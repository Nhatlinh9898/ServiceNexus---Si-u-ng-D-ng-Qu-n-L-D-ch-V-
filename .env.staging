# ServiceNexus Staging Environment Configuration

# Server Configuration
NODE_ENV=staging
PORT=3001
HOST=0.0.0.0

# Database Configuration
DB_HOST=staging-db.servicenexus.com
DB_PORT=5432
DB_NAME=servicenexus_staging
DB_USER=servicenexus_user
DB_PASSWORD=staging_database_password_here
DB_SSL=true
DB_MAX_CONNECTIONS=10
DB_IDLE_TIMEOUT=20000
DB_CONNECTION_TIMEOUT=2000

# Redis Configuration
REDIS_HOST=staging-redis.servicenexus.com
REDIS_PORT=6379
REDIS_PASSWORD=staging_redis_password_here
REDIS_DB=1
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# JWT Configuration
JWT_SECRET=staging_jwt_secret_key_minimum_32_characters_long
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d
JWT_ISSUER=servicenexus-staging
JWT_AUDIENCE=servicenexus-users

# Google AI Configuration
GEMINI_API_KEY=your_gemini_api_key_here

# CORS Configuration
CORS_ORIGIN=https://staging.servicenexus.com
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# Rate Limiting
RATE_LIMIT_WINDOW_MS=300000
RATE_LIMIT_MAX_REQUESTS=200
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_DIR=/opt/servicenexus/uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,text/plain,text/csv

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=/opt/servicenexus/logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_COMPRESS=true

# Monitoring Configuration
ENABLE_MONITORING=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000
PERFORMANCE_PROFILING=false

# Alert Configuration
SLACK_WEBHOOK_URL=your_staging_slack_webhook_url_here
ALERT_ERROR_RATE=15
ALERT_RESPONSE_TIME=3000
ALERT_MEMORY_USAGE=768
ALERT_DATABASE_ERRORS=8

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=staging@servicenexus.com
SMTP_PASS=staging_app_password_here
EMAIL_FROM=noreply@staging.servicenexus.com

# Security Configuration
BCRYPT_ROUNDS=12
SESSION_SECRET=staging_session_secret_key_here
COOKIE_SECURE=true
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=strict

# WebSocket Configuration
WS_HEARTBEAT_INTERVAL=30000
WS_MAX_CONNECTIONS=500
WS_MESSAGE_LIMIT=500

# Backup Configuration
BACKUP_SCHEDULE=0 4 * * *
BACKUP_RETENTION_DAYS=14
BACKUP_DIR=/opt/servicenexus/backups
BACKUP_COMPRESSION=true

# Performance Configuration
ENABLE_CACHING=true
CACHE_TTL=300
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6

# SSL Configuration
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem
SSL_PROTOCOLS=TLSv1.2,TLSv1.3

# Analytics Configuration
ENABLE_ANALYTICS=true
ANALYTICS_SAMPLE_RATE=0.5
ANALYTICS_FLUSH_INTERVAL=60000

# Development/Debug Configuration
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_SWAGGER=true
ENABLE_GRAPHQL_PLAYGROUND=false

# Third-party Services
SENTRY_DSN=your_staging_sentry_dsn_here
GOOGLE_ANALYTICS_ID=GA-STAGING-ID
FACEBOOK_PIXEL_ID=your_staging_facebook_pixel_id_here

# Feature Flags
ENABLE_AI_FEATURES=true
ENABLE_FILE_UPLOAD=true
ENABLE_REAL_TIME_FEATURES=true
ENABLE_NOTIFICATIONS=true
ENABLE_REPORTS=true

# Business Configuration
DEFAULT_CURRENCY=VND
DEFAULT_TIMEZONE=Asia/Ho_Chi_Minh
DEFAULT_LANGUAGE=vi
SUPPORTED_LANGUAGES=vi,en

# API Configuration
API_VERSION=v1
API_PREFIX=/api
API_RATE_LIMIT=500
API_TIMEOUT=30000

# Frontend Configuration
FRONTEND_URL=https://staging.servicenexus.com
FRONTEND_BUILD_PATH=/opt/servicenexus/dist
FRONTEND_CACHE_MAX_AGE=3600

# Database Pool Configuration
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_ACQUIRE_TIMEOUT=60000
DB_POOL_IDLE_TIMEOUT=20000

# Redis Session Configuration
REDIS_SESSION_PREFIX=sess:staging:
REDIS_SESSION_TTL=86400
REDIS_SESSION_MAX_AGE=604800

# File Storage Configuration
STORAGE_TYPE=local
STORAGE_PATH=/opt/servicenexus/uploads
STORAGE_MAX_SIZE=5368709120
STORAGE_ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx

# Notification Configuration
NOTIFICATION_QUEUE_NAME=notifications_staging
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=2000

# Search Configuration
SEARCH_INDEX_NAME=servicenexus_staging
SEARCH_BATCH_SIZE=50
SEARCH_REFRESH_INTERVAL=1800

# Maintenance Configuration
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="ServiceNexus Staging is currently under maintenance"
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1,10.0.0.0/8

# Compliance Configuration
GDPR_COMPLIANCE=true
DATA_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=365

# Scaling Configuration
CLUSTER_MODE=false
CLUSTER_WORKERS=0
GRACEFUL_SHUTDOWN_TIMEOUT=20000

# Testing Configuration
ENABLE_TEST_ENDPOINTS=true
TEST_DATA_CLEANUP=true
MOCK_EXTERNAL_APIS=false
